@page "/shoppinglist/add"
@inject ShoppingListService ListService


<h3>Make a list</h3>

<EditForm Model="@model" OnValidSubmit="Submit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="mb-3">
        <label class="form-label">Title </label>
        <InputTextArea @bind-Value="model.Title" placeholder="e.g. Milk, Egg, Tomato" class="form-control" />
    </div>


    <div class="mb-3">
        <label class="form-label">Enter items to buy: </label>
        <InputTextArea @bind-Value="model.Items" placeholder="e.g. Milk, Egg, Tomato" class="form-control" />
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn">Add</button>
        <button type="button" @onClick="ClearForm" class="btn">Reset</button>
    </div>
</EditForm>

@code {
    private ShoppingList model = new();
    private string items = "";

    private void Submit()
    {
        model.Items = items.ToList();

        ListService.Add(model);
        Navigation.NavigateTo("shoppinglist/view");
    }

    private void ClearForm()
    {
        model = new();
        items = "";
    }
}


<style>
    .form-control {
        border: 1px solid #000;
        background: #F9FBFA;
        padding: 0.5rem;
        width: 1002px;
        height: 238px;
    }

    label .form-label {
        font-size: 40px;
        font-weight: bold;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }

    .btn {
        width: 221px;
        height: 104px;
        border-radius: 50px;
        background: #1F2937;
        color: white;
        font-weight: bold; 
    }
</style>